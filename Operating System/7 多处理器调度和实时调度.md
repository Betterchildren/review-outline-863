## 多处理器调度和实时调度
**熟悉掌握多处理器环境下进程和线程调度算法， 了解实时进程的本质，掌握限期调度和速率单调调度方法。了解分布式处理的特点、类型；掌握多层体系结构、中间件技术和机群系统的基本概念和特点。**

### 多处理器对进程调度的影响
发挥多处理机最大效能的关键，在于提高程序执行的并行性。在为进程分配处理器时，一方面必须了解每台处理器的能力，以便把合适的任务分给它；另一方面也要确切地了解哪些进程可以并行运行，哪些进程必须串行运行。

### 多处理器环境下的进程和线程调度算法
#### 自调度方式
最简单的调度方式。系统中设置有一个公共的进程或线程就绪队列，所有的处理器空闲时都可自己到该队列中取一个任务来执行。可采用单处理机环境下所采用的调度算法，如 FCFS。  
优点：单处理机环境下的调度机制很容易移植到多处理机，故仍然是当前多处理机系统中较常用的调度方式；只要系统中有任务，就不会出现处理机空闲的情况。  
缺点：只设置一个就绪队列，处理器必须互斥地访问该队列，处理器数目较多时会产生瓶颈问题；线程阻塞后重新就绪后，很少能在原处理器上继续运行，造成每个处理器的高速缓存使用效率极低；通常一个应用中的多个线程互相合作，但却很难同时获得处理器，造成线程切换频繁。

#### 成组调度方式
将一个进程中的一组线程分配到一组处理器上去执行，可采用面向所有程序平均分配处理器时间和面向所有线程平均分配处理器时间两种分配方式。其中第二种浪费率更低，更有效。  
优点：如果一组相互合作的进程或线程能并行执行，则可有效地减少阻塞情况；每次调度都可以解决一组线程的处理机分配问题，可以显著地减少调度频率。性能优于自调度。

#### 专用处理机分配方式
在一个应用程序的执行期间，专门为该程序分配一组处理机，每个线程一个处理机。很明显会造成处理机的严重浪费。但在有数十个及以上处理机的高度并行的系统中，处理机利用率不那么重要；而且可完全避免进程和线程切换，大大加速程序的运行。

#### 动态调度
允许进程在执行期间动态地改变其线程的数目。操作系统负责把处理机分配给作业，每个作业负责将分配到的处理机再分配给自己的某一部分可运行任务。操作系统的分配遵循：空闲则分配、新作业绝对优先（可能从已分配多个处理机的作业中收回一个处理机）、保持等待、释放即分配。  
优于成组调度和专用处理机调度，但开销之大可能抵消一部分优势。

### 实时进程的特点
实时进程分两种：硬实时（必须满足，否则会导致错误）和软实时（大多时候满足，没有强制性）。要实现实时调度，系统要向调度程序提供信息：就绪时间（任务成为就绪状态的起始时间）、开始截止之间和完成截止时间、处理时间（处理任务所需的时间）、资源要求和优先级。  
假定系统中有 m 个周期性的实时进程，它们的处理时间表示为 $C_i$，周期时间表示为 $P_i$，则在单处理机情况下，满足下面条件才是可调度的： $\sum_{i=1}^m\frac{C_i}{P_i}\leq1$。

### 限期调度和速率单调调度方法
* 限期调度：假设进程会宣布最终时限。运行最终时限最早的进程。抢占式。
* 速率单调调度：假设每个周期性进程必须在其周期内完成、每个进程每个周期内需要的 CPU 时间相同、进程抢占没有开销。给每个进程分配一个固定的优先级，等于它们的出现频率，每次运行最高优先级的进程。抢占式。

### 分布式操作系统的基本原理和方法
#### 多层体系结构、中间件技术
典型的多层分布式系统可划分为3个层次：
* 瘦客户层：提供简洁的人机交互界面，完成数据的输入/输出。
* 业务服务层：完成业务逻辑，实现客户与数据库对话的桥梁。
* 数据服务层：提供数据的存储服务。

中间件可简单理解为多层体系结构中的中间层中的组件，负责为上层屏蔽底层架构的变化，提供稳定的接口。

#### 机群系统
机群系统对用户和应用来说是一个单一的系统，可以提供低价高效的高性能环境和快速可靠的服务。