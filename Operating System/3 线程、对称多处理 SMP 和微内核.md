## 线程、对称多处理 SMP 和微内核
**理解引入线程作为基本运行实体的必要性和可能性；掌握线程各种实现方式及其特点；熟悉 SMP 体系结构、操作系统的体系结构。**

### 线程
#### 概念
线程是进程的一部分，描述指令流执行状态，是 CPU 调度的基本单位。

#### 必要性
同一个程序多进程处理，进程之间通信困难，创建、销毁、切换进程的系统开销较大。

#### 可能性
线程在同一个进程的地址空间内，可共享变量。线程几乎不拥有系统资源，故切换不需要太大的时空开销。

### 线程的实现方式
* 内核支持线程 KST（Kernel Supported Threads）：线程管理的所有工作都由内核完成，应用程序只有一个到内核级线程的编程接口。
* 用户级线程 ULT（User Level Threads）：有关线程管理的所有工作都由应用程序完成，应用程序可以通过使用线程库设计成多线程程序。

### 对称多处理 SMP 体系结构
多个CPU之间没有区别，平等地访问内存、外设、一个操作系统。操作系统管理着一个队列，每个处理器依次处理队列中的进程。

### 操作系统的体系结构
#### 微内核与巨内核
* 巨内核：操作系统是一个整体可执行文件，进程管理、内存管理和文件系统全部运行在内核模块中。
* 微内核：操作系统的大多数部分作为独立的进程运行，存在于内核以外，内核通过消息传递、中断处理、低级进程管理，以至于I/O来完成各种工作。

#### 性能分析
微内核降低了内核设计的复杂性，但需要频繁地在核心态和用户态之间进行切换，操作系统的执行开销很大。