## 应用层
### 网络应用模型
#### 客户/服务器模型
在客户/服务器（Client/Server，C/S）模型中，有一个总是打开的主机称为服务器，它服务于许多来自客户机的请求。客户程序必须知道服务器程序的地址；服务器程序不需要知道客户程序的地址。  
模型最主要的特征是：客户是服务请求方，服务器是服务提供方。

#### P2P 模型
各计算机没有固定的客户和服务器划分，任意一对计算机——称为对等方（Peer），直接相互通信。  
与 C/S 模型相比，优点主要体现在：减轻服务器压力，消除对某个服务器的完全依赖；多个客户机之间可以直接共享文档；可扩展性好；网络健壮性强。缺点有会占用较多内存，影响整机速度。

### DNS 系统
域名系统 DNS（Domain Name System）是因特网使用的命名系统，用来把便于人们记忆的含有特定含义的主机名转换为便于机器处理的 IP 地址。运行在 UDP 协议之上，使用53号端口。

#### 层次域名空间
因特网采用层次树状结构的命名方法。每一个域名都是由标号序列组成，各标号之间用点隔开。标号中的英文不区分大小写；标号中除连字符外不能使用其它的标点符号；级别最低的域名写在左边，级别最高的顶级域名写在最右边。  
顶级域名（Top Level Domain，TLD）有三类：国家顶级域名（如“.cn”，“.us”等），通用顶级域名（如“.com”，“.org”等），基础结构域名（只有arpa，用于反向域名解析）。

#### 域名服务器
因特网的域名系统被设计成一个联机分布式的数据库系统，采用 C/S 模型。
* 根域名服务器：最高层次的域名服务器，知道所有顶级域名服务器的 IP 地址。因特网有13台根域名服务器。
* 顶级域名服务器：负责管理在该顶级域名服务器注册的所有二级域名。
* 授权域名服务器（权限域名服务器）：每个主机都必须在授权域名服务器处登记。许多域名服务器都同时充当本地域名服务器和授权域名服务器。
* 本地域名服务器：当一个主机发出 DNS 查询请求时，这个查询请求报文就发送给该主机的本地域名服务器。

#### 域名解析过程
域名解析是指把域名映射为 IP 地址（正向解析）或把 IP 地址映射为域名（反向解析）的过程。有两种方式：递归查询和递归与迭代相结合的查询。
* 主机向本地域名服务器的查询采用的是递归查询：如果本地域名服务器不知道被查询域名的 IP 地址，就以 DNS 客户的身份，向根域名服务器继续发出查询请求报文。
* 本地域名服务器向根域名服务器的查询采用迭代查询：根域名服务器收到本地域名服务器发出的迭代查询请求报文时，要么给出所要查询的 IP 地址，要么给出下一步要查询的顶级域名服务器的 IP 地址。

### 文件传输协议 FTP
FTP（File Transfer Protocol）是因特网上使用得最广泛的文件传送协议。提供交互式访问，允许客户指明文件类型与格式。

#### 工作原理
FTP 采用 C/S 的工作方式，使用 TCP 可靠的传输服务。服务器进程由两部分组成：一个主进程，负责接收新的请求；另外有若干个从属进程，负责处理单个请求。

#### 控制连接与数据连接
工作时使用两个并行的 TCP 连接，一个是控制连接（端口21），一个是数据连接（端口20）。
* 控制连接：用来传输控制信息（如连接请求、传送请求等）。整个会话期间一直保持打开状态。
* 数据连接：完成文件的传送。

### 电子邮件
#### 电子邮件系统的组成结构
一个电子邮件系统应具有三个最主要的组成构件：
* 用户代理（User Agent）：用户与电子邮件的接口。
* 邮件服务器：组成了电子邮件系统的核心。用来发送和接收邮件，同时还要向发信人报告邮件传送的情况。
* 使用的协议：邮件发送协议通常使用 SMTP；邮件读取协议有 POP3。

#### SMTP 协议
简单邮件传输协议 SMTP 控制两个相互通信的 SMTP 进程交换信息。SMTP 通信有三个阶段：
1. 连接建立：SMTP 客户每隔一定时间对邮件缓存扫描一次，发现有邮件，就使用端口25与接收方邮件服务器的 SMTP 服务器建立 TCP 连接。
2. 邮件传送：邮件的传送从 MAIL 命令开始，命令后面有发件人的地址。若服务器已准备好接收邮件，则回答“250 OK”。然后客户端发送一个或多个 RCPT 命令，每个命令都会收到“250 OK”或“550 No such user here“回复。获得 OK 的回答后，就使用 DATA 命令传输邮件内容。
3. 连接释放：邮件发送完毕后客户发送 QUIT 命令。

#### POP3 协议
采用”拉“（Pull）的通信方式，使用 C/S 工作方式，使用 TCP 协议，端口为110。有两种工作方式：下载并保留和下载并删除。

### 万维网 WWW
#### WWW 的概念与组成结构
WWW 是一个资料空间。WWW 的内核部分是由三个标准构成的：
* 统一资源定位符（URL）：负责标识万维网上的各种文档，并使每个文档在整个万维网内有唯一的标识符。一般形式是：<协议>://<主机>:<端口>/<路径>。
* 超文本传输协议（HTTP）：是一个应用层协议，使用 TCP 连接进行可靠的传输。
* 超文本标记语言（HTML）：是一种文档结构的标记语言，对页面上的各种信息、格式进行描述。

#### Web 应用的基本概念
Web 应用由两部分组成，客户端和服务器端。客户端指定 URL 与服务器端进行连接；服务器把 URL 转换为文件路径，并返回信息给 Web 浏览器；通信完成，关闭连接。

#### HTTP 协议
定义了浏览器怎样向万维网服务器请求万维网文档，以及服务器怎样把文档传送给浏览器。
* 览器获得服务器的 IP 地址后，将通过 TCP 向服务器发送连接建立请求。每个万维网站点都有一个服务器进程，监听80端口，监听到连接请求后就建立连接。因此 HTTP 有两类报文：请求报文和响应报文。
* HTTP 协议是无状态的，即同一个客户第二次访问同一个服务器时，服务器并不记得这个客户。实际中采用 Cookie 加数据库的方式来跟踪用户活动。Cookie 是一个存储在用户主机中的文本文件，含有一串识别码，用来识别用户。
* HTTP 既可以使用非持久连接，即每一个网页对象的传输都需要单独建立一个 TCP 连接；也可以使用持久连接，即服务器发送响应后仍然保持这条连接。
* HTTP 是面向文本的，报文中的每个字段都是 ASCII 码串，每个字段的长度都是不确定的。请求报文中有几个常用的方法（操作）：
	* GET：请求读取由 URL 所标志的信息
	* HEAD：请求读取由 URL 所标志的信息的首部
	* POST：给服务器添加信息（例如，注释）
	* CONNECT：用于代理服务器