## 指令系统
**熟练掌握指令格式、指令和数据的寻址方式，理解 RISC 和 CISC 的特点。**

### 指令格式
#### 指令的基本格式
指令由操作码和地址码两部分组成。  
操作码用来指明该指令所要完成的操作，如加减移位等。地址码用来指出该指令的源操作数的地址、结果的地址或下一条指令的地址。

#### 定长操作码指令格式
将操作码集中放在指令字的一个字段内。便于硬件设计，指令译码时间短。

#### 扩展操作码指令格式
操作码长度不固定，可分散在指令字的不同字段中。可以有效地压缩操作码的平均长度。

### 操作数类型
地址、数字、字符、逻辑数据

### 指令的寻址方式
#### 有效地址的概念
指令的地址码字段通常不代表操作数的真实地址，把它称为形式地址。操作数的真实地址称为有效地址。

#### 数据寻址和指令寻址
* 指令寻址比较简单，分两种。
    * 顺序寻址：程序计数器 PC 加1，自动形成下一条指令的地址。
    * 跳跃寻址：通过转移类指令实现。
* 数据寻址方式种类较多，在指令字中必须设一字段来指明属于哪一种寻址方式。

#### 常见寻址方式
* 立即寻址：操作数本身设在指令字内，即形式地址就是操作数本身，称为立即数。  
    不必访存；位数限制立即数的范围。
* 直接寻址：指令字中的形式地址就是有效地址。  
    寻找操作数简单；位数限制操作数寻址范围，地址不易修改。
* 隐含寻址：指令字中不明显地给出操作数的地址，地址隐含在操作码或某个寄存器中。如一地址的加法指令中一个操作数隐含在累加器 ACC 中。  
    有利于缩短指令字长。
* 间接寻址：形式地址不直接指出操作数的地址，而是指出有效地址所在的存储单元地址。  
    扩大了操作数的寻址范围，便于编制程序；需多次访存，指令执行时间延长。
* 寄存器寻址：地址码字段指出寄存器的编号。  
    无需访存，指令字较短，广泛应用；寄存器个数有限。
* 寄存器间接寻址：寄存器中的内容不是操作数，而是操作数所在主存单元的地址号。  
    比间接寻址少访存一次，便于编制循环程序。
* 基址寻址：
    * 隐式：在计算机内专门设有一个基址寄存器，使用时用户不必明显指出该基址寄存器。
    * 显示：在一组通用寄存器里，由用户明确指出哪个寄存器用做基址寄存器。  
    扩大寻址范围，有利于多道程序。
* 变址寻址：有效地址等于形式地址与变址寄存器的内容之和。与基址寻址的区别在于基址寻址主要用于为程序或数据分配存储空间，故基址寄存器的内容通常由操作系统或管理程序确定，程序执行过程中不可变；而变址寻址主要用于处理数组问题，可设定形式地址为数组的首地址，执行过程中不可变，改变变址寄存器的内容即可形成任一数据的地址。
* 相对寻址：有效地址等于形式地址与程序计数器的内容之和，即形式地址为相对当前指令的位移量。  
    广泛用于转移指令。
* 堆栈寻址：要求计算机中设有堆栈，堆栈既可以用寄存器组（硬堆栈）来实现，也可以用主存的一部分空间（称为软堆栈）来实现。

### CISC 和 RISC 的基本概念
RISC 即精简指令系统计算机（Reduced Instruction Set Computer），与其相对的是复杂指令系统计算机（Complex Instruction Set Computer）。  
人们分析研究 CISC，发现一个80—20规律，即典型程序中的80%的语句仅使用处理机中20%的指令，而且这些指令都是属于简单指令。而执行频度高的简单指令因复杂指令的存在，执行速度无法提高。于是人们开始研究用20%的简单指令组合不常用的80%的复杂指令功能。
