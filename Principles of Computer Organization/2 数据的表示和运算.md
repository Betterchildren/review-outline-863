## 数据的表示和运算
**掌握计算机中数据的格式、机器数的表示方法和特点，熟练掌握定点加减的运算方法和特点，掌握浮点运算方法和特点**

### 数制与编码
#### 进位计数制及其相互转换
十六进制、十进制、八进制与二进制

#### 真值和机器数
真值：带符号的数。机器数：符号数字化的数。
* 原码：二进制数左边直接加上符号位。
* 反码：正数的反码不变，负数将原码除符号位外每位取反。反码的反码是原码。
* 补码：正数的补码不变，负数保持符号位不变将反码加一。补码的补码是原码。

补码比原码和反码可以多表示一个数，因为原码和反码有正负零，而补码只有一个零。

#### BCD码
BCD(Binary Coded Decimal) 码，又称二 - 十编码。
* 有权码：8421（最常用）、2421、5421
* 无权码：余3码、格雷码。
格雷码：相邻两数间只有一个位元改变，提高了稳定性，也称为最小差异码。

#### 字符与字符串
七单位的 ASCII 码，共128个编码。

#### 校验码
1. 检错码（奇偶校验码）  
	奇校验（奇数个1则为1） $C=x_0 \oplus x_1 \oplus \dots \oplus x_{n-1}$  
	偶校验（偶数个1则为1） $\bar{C}=x_0 \oplus x_1 \oplus \dots \oplus x_{n-1}$

2. 纠错码（汉明码）  
	需增添 $k$ 位检测位，$k$ 满足 $2^k\geq n+k+1$，检测位在第 $2^i(i=0,1,2,\dots)$ 位。  
	$g_i$ 小组独占第 $2^{i-1}$ 位，$g_i$ 和 $g_j$ 小组共占第 $2^{i-1}+2^{j-1}$ 位，$g_i$ 、 $g_j$ 和 $g_l$ 小组共占第 $2^{i-1}+2^{j-1}+2^{l-1}$ 位。  
	纠错过程：形成新的检测位 $P_i$，取值为 $g_i$ 小组所有位数的异或。对于按“偶校验”配置的汉明码，不出错时 $P_i=0$。
   
### 定点数的表示和运算
#### 定点数的表示
定点数是小数点按约定方式标出的数，如表示整数则小数点位于最后一位后，表示小数则小数点位于第一位前。  
表示： $S_f$ (小数小数点位置) $S_1S_2 \dots S_n$ (整数小数点位置)，其中 $S_f$ 为符号位，0表示正数1表示负数。

|定点机|小数定点机|整数定点机|
| :--: | :--- | :--- |
|原码| $-(1-2^{-n}) \sim (1-2^{-n})$ | $-(2^n-1) \sim 2^n-1$ |
|补码| $-1 \sim 1-2^{-n}$ | $-2^n \sim 2^n-1$ |
|反码| $-(1-2^{-n}) \sim (1-2^{-n})$ | $-(2^n-1) \sim 2^n-1$ |

#### 定点数的运算
##### 定点数的位移运算
在计算机中，位移与加减配合，能够实现乘除运算。左移绝对值增大，右移绝对值减小。  
* 算术移位：有符号数的移位  
	符号位不变
	
	|真值|码制|添补代码|移位丢1|  
	| :--: | ---- | :--: | ---- |  
	| 正数 | 原、反、补 | **0** | 左移出错，右移影响精度 |  
	| 负数 | 原码 | **0** | 左移出错，右移影响精度 |  
	|     | 补码 | **左移**添**0** | 正确 |  
	|     |     | **右移**添**1** | 影响精度 |  
	|     | 反码 | **1** | 左右均正确 |  
* 逻辑移位：无符号数的移位  
	高低位均添0

##### 原码定点数的加减运算
与十进制数加减相同。

##### 补码定点数的加减运算
加法同上，减去一个数 $B$ 等于加上 $-B$ 的补码，即将减法变为加法。连同符号位一起相加，符号位产生的进位自然丢掉。  
产生问题， $0,1101(13)+0,0011(3)=1,0000(-16)$ ，运算结果超过最大可表示范围即为溢出。  
* 一位符号位判溢出  
	参加操作的两个数符号相同，结果符号与原操作数符号不同。  
	硬件实现：最高数值位的进位 $oplus$ 符号位的进位 = 1，即为溢出。
* 两位符号位判溢出  
	操作数的两位符号位相同，结果双符号位不同则溢出，最高符号位代表真正的符号。

##### 定点数的乘除运算
###### 乘法  
* 原码一位乘  
	符号位单独处理，数值部分为绝对值相乘。
* 补码一位乘（Booth 算法）

	| $y_i$  $y_{i+1}$ | 操作|  
	| :--: | :--- |  
	| 0  0 | $+0$ |  
	| 0  1 | $+[x]_补$ |  
	| 1  0 | $+[-x]_补$ |  
	| 1  1 | $+0$ |
	
	**例**：已知 $x=+0.0011$， $y=-0.1001$， 求 $[x · y]_补$  
	解： $[x]_补=0.0011$， $[y]_补=1.0111$， $[-x]_补=1.1101$
	
	| $0.0000$ | $1.0111$ | $0$ | |  
	| ---: | ---- | :--: | :--- |  
	| $+1.1101$ |  |  | $+[-x]_补$ |  
	| $1.1101$ |  |  |  |  
	| $1.1110$ | $1$ **1011** | **1** | $\rightarrow 1$ |  
	| $1.1111$ | $01$ **101** | **1** | $\rightarrow 1$ |  
	| $1.1111$ | $101$ **10** | **1** | $\rightarrow 1$ |  
	| $+0.0011$ |  |  | $+[x]_补$ |  
	| $0.0010$ | $101$ |  |  |  
	| $0.0001$ | $0101$ **1** | **0** | $\rightarrow 1$ |  
	| $+1.1101$ |  |  | $+[-x]_补$ |  
	| $1.1110$ | $0101$ |  | 最后一步不移位 |
	
	则 $[x · y]_补=1.11100101$  
* 补码两位乘
	

###### 除法
* 原码一位除：恢复余数法  
* 原码一位除：加减交替法  
* 补码一位除

##### 定点数运算器组成

### 浮点数的表示和运算
#### 浮点数的表示

#### IEEE754标准

#### 浮点数的加/减运算

#### 浮点运算器

### 算术逻辑单元ALU
#### 串行加法器和并行加法器

#### 算术逻辑单元ALU的功能和结构
